<mat-card class="card">
  <div class="container">
    <h1 class="">Visa Details</h1>
  </div>
  <div class="search-div">
    <mat-form-field class="search-form-field" floatLabel="never">
      <input
        matInput
        [(ngModel)]="searchKey"
        placeholder="Search"
        autocomplete="off"
        (keyup)="applyFilter()"
      />
      <button
        mat-button
        matSuffix
        mat-icon-button
        aria-label="Clear"
        *ngIf="searchKey"
        (click)="onSearchClear()"
      >
        <mat-icon>close</mat-icon>
      </button>
    </mat-form-field>
  </div>

  <table
    mat-table
    [dataSource]="blogData"
    class="mat-elevation-z8"
    matSort
    multiTemplateDataRows
  >
    <ng-container matColumnDef="no">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>NO</th>
      <td mat-cell *matCellDef="let i = dataIndex">
        {{
          this.paginator.pageIndex == 0
            ? i + 1
            : 1 + i + this.paginator.pageIndex * this.paginator.pageSize
        }}
      </td>
    </ng-container>
    <ng-container matColumnDef="blogTitle">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>blogTitle</th>
      <td mat-cell *matCellDef="let blog">{{ blog.blogTitle }}</td>
    </ng-container>
    <ng-container matColumnDef="imageSrc">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Image Src</th>
      <td mat-cell *matCellDef="let blog">
        <img
          width="80px"
          height="60px"
          style="margin: 5px"
          src="{{ blog.imageSrc }}"
          alt=""
        />
      </td>
    </ng-container>
    <ng-container matColumnDef="keywords">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>City Name</th>
      <td mat-cell *matCellDef="let blog">{{ blog.keywords }}</td>
    </ng-container>

    <ng-container matColumnDef="content">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Blog Content</th>
      <td mat-cell *matCellDef="let blog">{{ blog.content.slice(0, 20) }}</td>
    </ng-container>
    <ng-container matColumnDef="subHeading1">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>SUb Heading 1</th>
      <td mat-cell *matCellDef="let blog">{{ blog.subHeading1 }}</td>
    </ng-container>

    <ng-container matColumnDef="content1">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Paragraph 1</th>
      <td mat-cell *matCellDef="let blog">
        {{ blog.content1.slice(0, 20) }}...
      </td>
    </ng-container>
    <ng-container matColumnDef="imageSrc1">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Image Src 1</th>
      <td mat-cell *matCellDef="let blog">
        <img
          width="80px"
          height="60px"
          style="margin: 5px"
          src="{{ blog.imageSrc1 }}"
          alt=""
        />
      </td>
    </ng-container>

    <ng-container matColumnDef="subHeading2">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>SUb Heading 2</th>
      <td mat-cell *matCellDef="let blog">{{ blog.subHeading1 }}</td>
    </ng-container>

    <ng-container matColumnDef="content2">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Paragraph 2</th>
      <td mat-cell *matCellDef="let blog">
        {{ blog.content2.slice(0, 20) }}...
      </td>
    </ng-container>
    <ng-container matColumnDef="imageSrc2">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Image Src 2</th>
      <td mat-cell *matCellDef="let blog">
        <img
          width="80px"
          height="60px"
          style="margin: 5px"
          src="{{ blog.imageSrc2 }}"
          alt=""
        />
      </td>
    </ng-container>
    <ng-container matColumnDef="subHeading3">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>SUb Heading 3</th>
      <td mat-cell *matCellDef="let blog">{{ blog.subHeading3 }}</td>
    </ng-container>

    <ng-container matColumnDef="content3">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Paragraph 3</th>
      <td mat-cell *matCellDef="let blog">
        {{ blog.content3.slice(0, 20) }}...
      </td>
    </ng-container>
    <ng-container matColumnDef="imageSrc3">
      <th mat-header-cell *matHeaderCellDef mat-sort-header>Image Src 3</th>
      <td mat-cell *matCellDef="let blog">
        <img
          width="80px"
          height="60px"
          style="margin: 5px"
          src="{{ blog.imageSrc3 }}"
          alt=""
        />
      </td>
    </ng-container>

    <ng-container matColumnDef="actions">
      <th mat-header-cell *matHeaderCellDef class="mat-column-right">
        Actions
      </th>
      <td mat-cell *matCellDef="let blog">
        <button mat-button color="primary" (click)="editBlog(blog._id)">
          <mat-icon>create</mat-icon>
        </button>
        <button mat-button color="warn" (click)="deleteBlog(blog._id)">
          <mat-icon>delete_forever</mat-icon>
        </button>
      </td>
    </ng-container>

    <ng-container matColumnDef="expandedDetail">
      <td
        mat-cell
        *matCellDef="let blog"
        [attr.colspan]="displayedColumns.length"
      >
        <div
          class="example-element-detail"
          [@detailExpand]="blog == expandedElement ? 'expanded' : 'collapsed'"
        >
          <div class="alert alert-primary col-lg-8" role="text">
            <h2 class="font-text-bold text-center">
              Blog Title: {{ blog.blogTitle }}
            </h2>

            <h6 class="font-text-bold">Content : {{ blog.content }}</h6>
            <h6 class="font-text-bold">subHeading1 : {{ blog.subHeading1 }}</h6>

            <h6 class="font-text-bold">Paragraph 1 : {{ blog.content1 }}</h6>
            <h6 class="font-text-bold">subHeading2 : {{ blog.subHeading2 }}</h6>
            <h6 class="font-text-bold">Paragraph 2 : {{ blog.content2 }}</h6>
            <h6 class="font-text-bold">subHeading3 : {{ blog.subHeading3 }}</h6>
            <h6 class="font-text-bold">Paragraph 3 : {{ blog.content3 }}</h6>
            <h6 class="font-text-bold">Keywords : {{ blog.keywords }}</h6>
          </div>
        </div>
      </td>
    </ng-container>

    <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr
      mat-row
      *matRowDef="let blog; columns: displayedColumns"
      class="example-element-row"
      [class.example-expanded-row]="expandedElement === blog"
      (click)="expandedElement = expandedElement === blog ? null : blog"
    ></tr>
    <tr
      mat-row
      *matRowDef="let row; columns: ['expandedDetail']"
      class="example-detail-row"
    ></tr>
  </table>

  <!-- <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
    <tr mat-row *matRowDef="let row; columns: displayedColumns;"></tr>
  </table> -->
  <mat-paginator
    [pageSizeOptions]="[10, 20, 30, 40, 60]"
    showFirstLastButtons
    [pageSize]="10"
  ></mat-paginator>
</mat-card>
